<!--
 - Created by user on 16-Sep-19.
 -->

<aura:component description="GalleryApplication"
                controller="GalleryApplicationController"
                implements="flexipage:availableForAllPageTypes">
    <aura:attribute name="urlForImage"
                    type="String"
                    default="https://onlineshop-dev-ed--c.documentforce.com/servlet/servlet.ImageServer?id="/>
    <aura:attribute name="Documents"
                    type="List"/>
    <aura:attribute name="organizationId"
                    type="String"/>
    <aura:handler name="init"
                  value="{!this}"
                  action="{!c.doInit}"/>
    <aura:attribute name="paginationList"
                    type="Document"/>
    <aura:attribute name="startPage"
                    type="Integer"/>
    <aura:attribute name="endPage"
                    type="Integer"/>
    <aura:attribute name="totalRecords"
                    type="Integer"/>
    <aura:attribute name="pageSize"
                    type="Integer"
                    default="3"/>
    <aura:attribute name="filter"
                    type="String"/>


    <lightning:card iconName="utility:search"
                    title="Image Search"
                    class="slds-size--1-of-2 slds-align_absolute-center">
        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right"
             role="none">
            <lightning:input name="x"
                             value="{!v.filter}"
                             placeholder="Search Image by "
                             onchange="{!c.searchImage}"/>
            <span class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right " >
                <lightning:icon class="slds-icon slds-icon slds-icon_small slds-icon-text-default "
                                iconName="utility:search"
                                size="small"
                                alternativeText="icon" />
            </span>
        </div>
    </lightning:card>
    <div class="slds-grid slds-wrap slds-align-content-center">
        <aura:iteration items="{!v.paginationList}"
                        var="doc"
                        indexVar="i">
            <div class="slds-col slds-small-size_1-of-6">
                <img src="{!v.urlForImage + doc.Id + v.organizationId}"
                     onclick="{!c.viewDetail}"
                     data-index="{!i}"
                     title="{!doc.Name}"/>
            </div>
        </aura:iteration>
    </div>
    <lightning:buttonGroup class="slds-align_absolute-center">
        <lightning:button label="Previous"
                          disabled="{!v.startPage == 0}"
                          onclick="{!c.previous}"
                          variant="brand"
                          iconPosition="left"/>

        <lightning:button label="Next"
                          disabled="{!v.endPage >= v.totalRecords}"
                          onclick="{!c.next}"
                          variant="brand"
                          iconPosition='right'/>
    </lightning:buttonGroup>
    <div aura:id="ViewImageDetail"
         class="ViewImageDetail"/>
</aura:component>
